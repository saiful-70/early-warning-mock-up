<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fish Details - EWS App for Aquaculture Farmers</title>
    <link rel="stylesheet" href="styles.css" />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      .fish-details-container {
        padding: 20px;
        max-width: 800px;
        margin: 0 auto;
      }
      
      .fish-header {
        color: black;
        display: flex;
        align-items: center;
        gap: 15px;
        margin-bottom: 20px;
      }
      
      .fish-image {
        background-color: white;
        width: 100%;
        height: 300px;
        object-fit: contain;
        border-radius: var(--border-radius);
        margin-bottom: 20px;
      }
      
      .fish-section {
        margin-bottom: 25px;
        padding: 20px;
        background-color: var(--bg-white);
        border-radius: var(--border-radius);
        box-shadow: var(--card-shadow);
      }

      .fish-section ul {
        padding-left: 20px;
      }
      
      .fish-section h3 {
        margin-top: 0;
        color: var(--primary-color);
        border-bottom: 1px solid var(--border-color);
        padding-bottom: 10px;
        margin-bottom: 15px;
      }
      
      .back-btn {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        background-color: var(--primary-color);
        color: black;
        border: none;
        padding: 10px 15px;
        border-radius: 4px;
        cursor: pointer;
        font-weight: 500;
        margin-bottom: 20px;
        text-decoration: none;
      }
      
      .back-btn:hover {
        background-color: var(--secondary-color);
      }
    </style>
  </head>
  <body>
    <!-- Compact Header -->
    <header class="compact-header">
      <div class="header-info">
        <div class="app-title">
          <i class="fas fa-fish"></i>
          <span>EWS</span>
        </div>
        <div class="user-info">
          <span class="location" id="current-location">Dhaka</span>
          <span class="month" id="current-month">September</span>
        </div>
      </div>
    </header>

    <main class="fish-details-container">
      <a href="index.html#tips" class="back-btn">
        <i class="fas fa-arrow-left"></i> Back to Fish List
      </a>
      
      <div id="fish-details-content">
        <!-- Content will be loaded by JavaScript -->
      </div>
    </main>


    <!-- Custom script to handle fish details page -->
    <script>
      // Define mockData if needed
      if (typeof window.mockData === 'undefined') {
        window.mockData = {
          fishTips: {
            "Rui": {
              name: "রুই মাছ (Rui Fish)",
              description: "A popular freshwater fish in Bangladesh with high nutritional value.",
              details: "Rui fish is rich in protein and omega-3 fatty acids. It's a carp species native to rivers in South Asia."
            },
            "Katla": {
              name: "কাতলা মাছ (Katla Fish)",
              description: "A large freshwater fish popular in Bengali cuisine.",
              details: "Katla is a surface and midwater feeder. It's one of the most important aquacultured freshwater fishes."
            },
            "Ilish": {
              name: "ইলিশ মাছ (Hilsa Fish)",
              description: "The national fish of Bangladesh with a distinctive flavor.",
              details: "Hilsa is a migratory fish that moves from marine water to freshwater for spawning."
            },
            "Chingri": {
              name: "চিংড়ি মাছ (Prawn)",
              description: "A highly valued aquaculture product in Bangladesh.",
              details: "Freshwater prawns are an important commercial species that thrive in both coastal and inland aquaculture systems."
            },
            "Pabda": {
              name: "পাবদা মাছ (Pabda Fish)",
              description: "A small indigenous fish species with excellent taste.",
              details: "Pabda is rich in micronutrients and has a soft texture making it popular in traditional dishes."
            },
            "Pangash": {
              name: "পাঙ্গাস মাছ (Pangasius Fish)",
              description: "A fast-growing catfish species widely farmed in Bangladesh.",
              details: "Pangasius is an economical fish that's easy to farm and has become popular in aquaculture."
            }
          }
        };
      }
      
      // Override initializeApp to handle fish details page initialization
      function initializeApp() {
        console.log("Fish details page loaded");
        
        // Get the selected language from localStorage
        const selectedLanguage = localStorage.getItem('language') || 'english';
        
        // Load fish details
        loadFishDetails();
      }
      
      // Override showSection to prevent errors
      function showSection() {
        console.log("Section navigation disabled on details page");
      }
    </script>
    <script>
      // Translation data for fish details page
      const fishDetailsTranslations = {
        bengali: {
          backToFishList: "মাছের তালিকায় ফিরে যান",
          overview: "সংক্ষিপ্ত বিবরণ",
          detailedInformation: "বিস্তারিত তথ্য",
          farmingGuidelines: "চাষ নির্দেশিকা",
          waterQuality: "পানির গুণমান:",
          feeding: "খাওয়ানো:",
          stockingDensity: "স্টকিং ঘনত্ব:",
          diseasePrevention: "রোগ প্রতিরোধ:",
          harvesting: "ফসল কাটা:",
          waterQualityDesc: "সর্বোত্তম বৃদ্ধির জন্য পিএইচ মাত্রা ৭.০-৮.৫ এর মধ্যে রাখুন।",
          feedingDesc: "আকার এবং বয়সের উপর ভিত্তি করে উপযুক্ত মাছের খাবার দিয়ে দিনে ২-৩ বার খাওয়ান।",
          stockingDensityDesc: "অতিরিক্ত ভিড় রোধ করতে উপযুক্ত স্টকিং ঘনত্ব বজায় রাখুন।",
          diseasePreventionDesc: "রোগের লক্ষণ এবং পানির গুণমান নিয়মিত পর্যবেক্ষণ করুন।",
          harvestingDesc: "সেরা বাজার মূল্যের জন্য সঠিক আকারে ফসল কাটুন।",
          error: "ত্রুটি",
          fishNotFound: "মাছের তথ্য পাওয়া যায়নি। অনুগ্রহ করে ফিরে গিয়ে একটি বৈধ মাছ নির্বাচন করুন।"
        },
        english: {
          backToFishList: "Back to Fish List",
          overview: "Overview",
          detailedInformation: "Detailed Information",
          farmingGuidelines: "Farming Guidelines",
          waterQuality: "Water Quality:",
          feeding: "Feeding:",
          stockingDensity: "Stocking Density:",
          diseasePrevention: "Disease Prevention:",
          harvesting: "Harvesting:",
          waterQualityDesc: "Maintain optimal pH levels between 7.0-8.5 for best growth.",
          feedingDesc: "Feed 2-3 times daily with appropriate fish feed based on size and age.",
          stockingDensityDesc: "Maintain proper stocking density to prevent overcrowding.",
          diseasePreventionDesc: "Regular monitoring for signs of disease and maintaining water quality.",
          harvestingDesc: "Harvest at optimal size for best market value.",
          error: "Error",
          fishNotFound: "Fish information not found. Please go back and select a valid fish."
        }
      };

      // Function to load fish details
      function loadFishDetails() {
        // Get fish type from URL parameters
        const urlParams = new URLSearchParams(window.location.search);
        const fishType = urlParams.get('fish');
        
        // Get language from localStorage or default to English
        const language = localStorage.getItem('language') || 'english';
        const t = fishDetailsTranslations[language];
        
        // Update back button to always return to the fish farming page
        const backBtn = document.querySelector('.back-btn');
        if (backBtn) {
          backBtn.href = 'index.html#fish-farming';
          backBtn.innerHTML = `<i class="fas fa-arrow-left"></i> ${t.backToFishList}`;
        }
        
        // Check if fish type exists in mockData
        if (fishType && window.mockData && window.mockData.fishTips && window.mockData.fishTips[fishType]) {
          const fish = window.mockData.fishTips[fishType];
          const detailsContent = document.getElementById('fish-details-content');
          
          detailsContent.innerHTML = `
            <div class="fish-header">
              <h1>${fish.name}</h1>
            </div>
            
            <img src="images/${fishType.toLowerCase()}.png" alt="${fish.name}" class="fish-image" ">
            
            <div class="fish-section">
              <h3>${t.overview}</h3>
              <p>${fish.description}</p>
            </div>
            
            <div class="fish-section">
              <h3>${t.detailedInformation}</h3>
              <p>${fish.details}</p>
            </div>
            
            <div class="fish-section">
              <h3>${t.farmingGuidelines}</h3>
              <ul>
                <li><strong>${t.waterQuality}</strong> ${t.waterQualityDesc}</li>
                <li><strong>${t.feeding}</strong> ${t.feedingDesc}</li>
                <li><strong>${t.stockingDensity}</strong> ${t.stockingDensityDesc}</li>
                <li><strong>${t.diseasePrevention}</strong> ${t.diseasePreventionDesc}</li>
                <li><strong>${t.harvesting}</strong> ${t.harvestingDesc}</li>
              </ul>
            </div>
          `;
          
          // Update page title
          document.title = `${fish.name} - Fish Details`;
        } else {
          // Handle invalid fish type
          const detailsContent = document.getElementById('fish-details-content');
          detailsContent.innerHTML = `
            <div class="fish-section">
              <h3>${t.error}</h3>
              <p>${t.fishNotFound}</p>
            </div>
          `;
        }
      }
      
      // Initialize the app when DOM is loaded
      document.addEventListener('DOMContentLoaded', initializeApp);
    </script>
  </body>
</html>